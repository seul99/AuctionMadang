<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>상품 등록</title>
    <link rel="stylesheet" href="/css/productEntry.css" />
</head>
<body>
<div class = "container">
    <!-- 헤더 -->
    <header class="header">
        <div class="logo">경매마당</div>
        <nav class="nav">
            <div class="nav-icon-item">
                <a href="/" th:href="@{/}"><img src="/images/home.svg" alt="home" width="30px" /></a>
            </div>
            <div class="nav-item"><a href="/itemlist" th:href="@{/api/product/productList}">상품목록</a></div>
            <div class="nav-item"><a href="/gosell" th:href="@{/api/product/createProduct}">판매하기</a></div>
            <div class="nav-item"><a href="/mypage" th:href="@{/api/user/myPage}">마이페이지</a></div>
            <div class="nav-item"><a href="/customercenter" th:href="@{/api/customer/notice}">고객센터</a></div>
        </nav>
        <div class="btn-wrap">
            <div class="search-btn" onclick="openSearch()">
                <img src="/images/search.svg" alt="search" width="30px" />
            </div>
            <div id="searchModal" class="search-modal hidden">
                <div class="modal-box">
                    <div class="modal-topbar">
                        <div></div>
                        <button class="modal-cancel" onclick="closeSearch()">취소</button>
                    </div>

                    <input type="text" class="search-input" placeholder="브랜드, 상품, 프로필 등" />

                    <h3 class="section-title">추천 검색어</h3>
                    <div class="keyword-wrap">
                        <button class="keyword">뉴발란스</button>
                        <button class="keyword">워터밤</button>
                        <button class="keyword">일렉기타</button>
                        <button class="keyword">아디다스</button>
                        <button class="keyword">샌들</button>
                    </div>
                </div>
            </div>
            <!-- 로그인 상태일 때 -->
            <button th:if="${isLoggedIn}" class="login-btn" onclick="location.href='/api/user/logout'">로그아웃</button>

            <!-- 비로그인 상태일 때 -->
            <button th:unless="${isLoggedIn}" class="login-btn" onclick="location.href='/api/user/login'">로그인</button>

        </div>
    </header>
    <main class="content">
        <form action="/api/product/createProduct" method="post" enctype="multipart/form-data">
            <div class="container">
                <div class="tabs">
                    <div class="tab active">상품 등록</div>
                    <a href="/api/product/management" class="tab">상품 관리</a>
                </div>

                <div class="form-group image-section">
                    <label id="imageCountLabel">상품 이미지 (0/1)</label>

                    <div class="image-upload-wrap">
                        <!-- 등록 버튼 -->
                        <div class="image-upload" onclick="document.getElementById('file').click();">
                            <div>📷<br />이미지 등록</div>
                            <input type="file" id="file" name="imageFile" accept="image/*" style="display: none;" required />

                        </div>

                        <!-- 미리보기 -->
                        <div id="imagePreview"></div>
                    </div>

                    <div class="desc-small">
                        상품 이미지는 PC에서는 1:1, 모바일에서는 1:1.23 비율로 보입니다.
                    </div>
                </div>

                <div class="form-group">
                    <label>상품명</label>
                    <input type="text" name="productName" placeholder="상품명을 입력해 주세요." required/>
                </div>

                <div class="form-group">
                    <label>카테고리</label>
                    <select name="categoryId" required>
                        <option value="0" disabled selected hidden>카테고리를 선택 해 주세요</option>
                        <option value="1">디지털 기기</option>
                        <option value="2">가구/인테리어</option>
                        <option value="3">유아동 물품</option>
                        <option value="4">여성의류</option>
                        <option value="5">여성잡화</option>
                        <option value="6">남성패션/잡화</option>
                        <option value="7">생활가전</option>
                        <option value="8">취미/게임/음반</option>
                        <option value="9">뷰티/미용</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>상품 상태</label>
                    <div class="radio-group">
                        <label><input type="radio" name="productCondition" value="NEW" /> 새 상품 (미사용)</label>
                        <label><input type="radio" name="productCondition" value="LIKE_NEW" /> 사용감 없음</label>
                        <label><input type="radio" name="productCondition" value="LIGHTLY_USED" /> 사용감 적음</label>
                        <label><input type="radio" name="productCondition" value="HEAVILY_USED" /> 사용감 많음</label>
                        <label><input type="radio" name="productCondition" value="DAMAGED" /> 고장/파손 상품</label>
                    </div>
                </div>

                <div class="form-group">
                    <label>설명</label>
                    <textarea name="productDescription" placeholder="브랜드명, 모델명, 구매 시기, 하자 유무 등 상품 설명을 최대한 자세히 적어주세요." required></textarea>
                </div>

                <div class="form-group">
                    <label>판매 희망 가격</label>
                    <div class="price-wrap">
                        <input type="number" name="productPrice" placeholder="가격을 입력해주세요." required/>
                        <span>원</span>
                    </div>
                </div>

                <div class="form-group" style="text-align: center;">
                    <button class="submit-btn" type="submit">등록하기</button>
                </div>
            </div>
        </form>
    </main>
    <!-- 푸터 -->
    <footer>
        <div class="footer-wrapper">
            <div class="footer-top">
                <div class="column">
                    <h4>이용안내</h4>
                    <ul>
                        <li>이용정책</li>
                        <li>패널티 정책</li>
                        <li>가이드 라인</li>
                    </ul>
                </div>
                <div class="column">
                    <h4>고객지원</h4>
                    <ul>
                        <li>공지사항</li>
                        <li>서비스 소개</li>
                        <li>스토어 안내</li>
                    </ul>
                </div>
                <div class="column last">
                    <h4>고객센터 <strong>1588-0000</strong></h4>
                    <p>운영시간 평일 10:00 - 18:00 (토,일,공휴일 휴무)</p>
                    <p>점심시간 평일 13:00-14:00</p>
                    <p>1:1 문의하기는 온라인에서만 가능합니다</p>
                    <button>자주 묻는 질문</button>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="left">
                    <p>
                        경매마당 대표 : 동덕여자대학교 우당탕탕<br />
                        사업자 : 박슬기, 한지혜, 조혜진<br />
                        대표 연락처 : 20221881@dongduk.ac.kr<br />
                        사업장소재지 : 서울특별시 성북구 화랑로13길 60
                    </p>
                </div>
                <div class="right">
                    <div class="footer-icons">
                        <img src="/images/insta.svg" alt="인스타">
                        <img src="/images/face.svg" alt="페이스북">
                        <img src="/images/kakao.svg" alt="카카오">
                    </div>
                    <p>ⓒ 우당탕조</p>
                </div>
            </div>
        </div>
    </footer>

</div>
<script src="/js/main.js"></script>
<script>
    document.querySelector("form").addEventListener("submit", function (e) {
        const categorySelect = document.querySelector("select[name='categoryId']");
        if (categorySelect.value === "0") {
            alert("카테고리를 선택해 주세요.");
            e.preventDefault();
        }
    });
</script>
</body>
</html>
